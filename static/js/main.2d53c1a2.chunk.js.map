{"version":3,"sources":["components/Button/Button.js","constants/proptypes.js","components/User/User.js","components/Comment/Comment.js","components/CommentList/CommentList.js","components/Post/Post.js","components/PostList/PostList.js","App.js","index.js"],"names":["Button","PropTypes","string","isRequired","shape","name","email","address","city","street","body","arrayOf","comments","user","object","_ref","text","listOfTodos","onClick","react_default","a","createElement","className","type","User","concat","defaultProps","Comment","comment","components_User_User","CommentList","map","key","id","components_Comment_Comment","PostItem","post","title","console","log","Fragment","components_CommentList_CommentList","PostList","posts","Post_Post","POSTS_URL","USERS_URL","COMMENTS_URL","App","state","users","isLoading","handleShow","_this","setState","Promise","all","fetch","then","_ref2","Object","slicedToArray","resPosts","resUsers","resComments","json","_ref3","_ref4","dataPosts","dataUsers","dataComments","usersMap","reduce","acc","item","_objectSpread","defineProperty","getPostsWithComments","postsList","commentsList","filter","postId","userId","_this$state","this","preparedPosts","length","components_Button_Button","components_PostList_PostList","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.2d53c1a2.chunk.js","sourcesContent":["import React from 'react';\nimport { ButtonProps } from '../../constants/proptypes';\n\nimport './Button.css';\n\nconst Button = ({ text, listOfTodos, onClick }) => (\n  <button\n    className=\"btn btn-primary btn--start\"\n    type=\"button\"\n    onClick={() => onClick(listOfTodos)}\n  >\n    {text}\n  </button>\n);\n\nButton.propTypes = ButtonProps;\n\nexport default Button;\n","import PropTypes from 'prop-types';\n\nexport const ButtonProps = {\n  text: PropTypes.string.isRequired,\n};\n\nconst userShape = PropTypes.shape({\n  name: PropTypes.string,\n  email: PropTypes.string,\n  address: PropTypes.shape({\n    city: PropTypes.string,\n    street: PropTypes.string,\n  }),\n});\n\nexport const UserProps = {\n  user: userShape,\n};\n\nexport const CommentProps = {\n  comment: PropTypes.shape({\n    body: PropTypes.string,\n    email: PropTypes.string,\n    name: PropTypes.string,\n  }).isRequired,\n};\n\nexport const CommentsListProps = {\n  comments: PropTypes.arrayOf(\n    PropTypes.shape({\n      body: PropTypes.string,\n      email: PropTypes.string,\n      name: PropTypes.string,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport const PostItemProps = {\n  post: PropTypes.shape({\n    comments: PropTypes.arrayOf(\n      PropTypes.shape({\n        body: PropTypes.string,\n        email: PropTypes.string,\n        name: PropTypes.string,\n      }).isRequired,\n    ).isRequired,\n    user: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      email: PropTypes.string.isRequired,\n      address: PropTypes.shape({\n        city: PropTypes.string,\n        street: PropTypes.string,\n      }).isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport const PostListProps = {\n  posts: PropTypes.arrayOf(\n    PropTypes.object,\n  ).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { UserProps } from '../../constants/proptypes';\n\nimport './User.css';\n\nconst User = ({ name, email, address }) => {\n  const { city, street } = address;\n\n  return (\n    <div>\n      {name && (\n        <p className=\"meta meta__name\">\n          <span>name: </span>\n          {name}\n        </p>\n      )}\n      <p className=\"meta meta__email\">\n        <span>email: </span>\n        {email}\n      </p>\n      {address && (\n        <div className=\"meta meta__address\">\n          {city && (\n            <p className=\"meta__address--city\">{`city: ${city}`}</p>\n          )}\n          {city && (\n            <p className=\"meta__address--street\">{`street: ${street}`}</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nUser.propTypes = UserProps;\n\nUser.defaultProps = {\n  address: PropTypes.shape({\n    city: null,\n    street: null,\n  }),\n};\n\nexport default User;\n","import React from 'react';\nimport User from '../User/User';\nimport { CommentProps } from '../../constants/proptypes';\n\nimport './Comment.css';\n\nconst Comment = ({ comment }) => {\n  const { name, email, body } = comment;\n\n  return (\n    <div className=\"content\">\n      <User name={name} email={email} />\n      <div className=\"description\">{body}</div>\n    </div>\n  );\n};\n\nComment.propTypes = CommentProps;\n\nexport default Comment;\n","import React from 'react';\nimport Comment from '../Comment/Comment';\nimport { CommentsListProps } from '../../constants/proptypes';\n\nimport './CommentList.css';\n\nconst CommentList = ({ comments }) => (\n  <ul className=\"extra content comment-list\">\n    {comments.map(comment => (\n      <li className=\"comment-list__item ui card\" key={comment.id}>\n        <Comment comment={comment} />\n      </li>\n    ))}\n  </ul>\n);\n\nCommentList.propTypes = CommentsListProps;\n\nexport default CommentList;\n","import React from 'react';\nimport User from '../User/User';\nimport { PostItemProps } from '../../constants/proptypes';\nimport CommentList from '../CommentList/CommentList';\n\nimport './Post.css';\n\nconst PostItem = ({ post }) => {\n  const {\n    title, body, user, comments,\n  } = post;\n\n  console.log('post: ', post);\n\n  const { name, email, address } = user;\n\n  return (\n    <>\n      <div className=\"content card-item\">\n        <div className=\"header\">{title}</div>\n        <User name={name} email={email} address={address} />\n        <div className=\"description\">{body}</div>\n      </div>\n      <div className=\"extra content\">\n        <span>Comments:</span>\n        <CommentList comments={comments} />\n      </div>\n    </>\n  );\n};\n\nPostItem.propTypes = PostItemProps;\n\nexport default PostItem;\n","import React from 'react';\nimport PostItem from '../Post/Post';\nimport { PostListProps } from '../../constants/proptypes';\n\nimport './PostList.css';\n\nconst PostList = ({ posts }) => (\n  <ul className=\"post-list\">\n    {posts.map(post => (\n      <li className=\"post-list__item ui card\" key={post.id}>\n        <PostItem post={post} />\n      </li>\n    ))}\n  </ul>\n);\n\nPostList.propTypes = PostListProps;\n\nexport default PostList;\n","import React, { Component } from 'react';\nimport Button from './components/Button/Button';\nimport PostList from './components/PostList/PostList';\n\nimport './App.css';\n\nconst POSTS_URL = 'https://jsonplaceholder.typicode.com/posts';\nconst USERS_URL = 'https://jsonplaceholder.typicode.com/users';\nconst COMMENTS_URL = 'https://jsonplaceholder.typicode.com/comments';\n\nclass App extends Component {\n  state = {\n    posts: [],\n    users: [],\n    comments: [],\n    isLoading: false,\n  };\n\n  handleShow = () => {\n    this.setState({\n      isLoading: true,\n    });\n\n    Promise.all([\n      fetch(POSTS_URL),\n      fetch(USERS_URL),\n      fetch(COMMENTS_URL),\n    ])\n      .then(([resPosts, resUsers, resComments]) => Promise.all(\n        [resPosts.json(), resUsers.json(), resComments.json()]\n      ))\n      .then(([dataPosts, dataUsers, dataComments]) => this.setState({\n        posts: dataPosts,\n        users: dataUsers,\n        comments: dataComments,\n        isLoading: false,\n      }));\n  };\n\n  usersMap = users => (\n    users.reduce((acc, item) => ({ ...acc, [item.id]: item }), {})\n  )\n\n  getPostsWithComments = (postsList, commentsList) => (\n    postsList\n      .map(post => ({\n        ...post,\n        comments: commentsList.filter(comment => comment.postId === post.id),\n        user: this.usersMap[post.userId],\n      }))\n  );\n\n  render() {\n    const {\n      posts,\n      comments,\n      users,\n      isLoading,\n    } = this.state;\n\n    console.log('this.state: ', this.state);\n\n    const preparedPosts = this.getPostsWithComments(posts, comments, users);\n\n    console.log('users: ', users);\n\n    // console.log('preparedPosts: ', preparedPosts);\n\n    return (\n      <div className=\"App\">\n        <h1>Dynamic list of posts</h1>\n        {posts.length === 0\n          ? (\n            <>\n              {isLoading\n                ? <p>Loading...</p>\n                : ''\n              }\n              <div>\n                <Button\n                  className=\"btn--start\"\n                  text=\"Load\"\n                  onClick={this.handleShow}\n                />\n              </div>\n            </>\n          )\n          : <PostList posts={preparedPosts} />\n        }\n        {/* <PostList posts={preparedPosts} /> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}