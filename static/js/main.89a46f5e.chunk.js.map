{"version":3,"sources":["components/Button/Button.js","constants/proptypes.js","components/SearchPanel/SearchPanel.js","components/User/User.js","components/Comment/Comment.js","components/CommentList/CommentList.js","components/Post/Post.js","components/PostList/PostList.js","App.js","index.js"],"names":["Button","PropTypes","string","isRequired","func","shape","name","email","address","city","street","body","arrayOf","comments","user","object","_ref","text","listOfTodos","onClick","react_default","a","createElement","className","type","SearchPanel","state","term","onSearchChange","e","target","value","_this","setState","props","placeholder","this","onChange","Component","User","concat","defaultProps","Comment","comment","components_User_User","CommentList","map","key","id","components_Comment_Comment","PostItem","post","title","Fragment","components_CommentList_CommentList","PostList","posts","Post_Post","POSTS_URL","USERS_URL","COMMENTS_URL","App","users","isLoading","handleShow","Promise","all","fetch","then","_ref2","Object","slicedToArray","resPosts","resUsers","resComments","json","_ref3","_ref4","dataPosts","dataUsers","dataComments","search","items","length","filter","item","toLowerCase","indexOf","getPostsWithComments","postsList","commentsList","usersList","_objectSpread","postId","find","userId","_this$state","preparedPosts","visiblePosts","components_Button_Button","components_SearchPanel_SearchPanel","components_PostList_PostList","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.89a46f5e.chunk.js","sourcesContent":["import React from 'react';\nimport { ButtonProps } from '../../constants/proptypes';\n\nimport './Button.css';\n\nconst Button = ({ text, listOfTodos, onClick }) => (\n  <button\n    className=\"btn btn-primary btn--start\"\n    type=\"button\"\n    onClick={() => onClick(listOfTodos)}\n  >\n    {text}\n  </button>\n);\n\nButton.propTypes = ButtonProps;\n\nexport default Button;\n","import PropTypes from 'prop-types';\n\nexport const ButtonProps = {\n  text: PropTypes.string.isRequired,\n};\n\nexport const SearchPanelProps = {\n  onSearchChange: PropTypes.func.isRequired,\n};\n\nconst userShape = PropTypes.shape({\n  name: PropTypes.string,\n  email: PropTypes.string,\n  address: PropTypes.shape({\n    city: PropTypes.string,\n    street: PropTypes.string,\n  }),\n});\n\nexport const UserProps = {\n  user: userShape,\n};\n\nexport const CommentProps = {\n  comment: PropTypes.shape({\n    body: PropTypes.string,\n    email: PropTypes.string,\n    name: PropTypes.string,\n  }).isRequired,\n};\n\nexport const CommentsListProps = {\n  comments: PropTypes.arrayOf(\n    PropTypes.shape({\n      body: PropTypes.string,\n      email: PropTypes.string,\n      name: PropTypes.string,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport const PostItemProps = {\n  post: PropTypes.shape({\n    comments: PropTypes.arrayOf(\n      PropTypes.shape({\n        body: PropTypes.string,\n        email: PropTypes.string,\n        name: PropTypes.string,\n      }).isRequired,\n    ).isRequired,\n    user: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      email: PropTypes.string.isRequired,\n      address: PropTypes.shape({\n        city: PropTypes.string,\n        street: PropTypes.string,\n      }).isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport const PostListProps = {\n  posts: PropTypes.arrayOf(\n    PropTypes.object,\n  ).isRequired,\n};\n","import React, { Component } from 'react';\nimport { SearchPanelProps } from '../../constants/proptypes';\nimport './SearchPanel.css';\n\nclass SearchPanel extends Component {\n  state = {\n    term: '',\n  };\n\n  onSearchChange = (e) => {\n    const term = e.target.value;\n\n    this.setState({ term });\n    this.props.onSearchChange(term);\n  };\n\n  render() {\n    return (\n      <div className=\"ui input\">\n        <input\n          placeholder=\"Type here to search\"\n          className=\"form-control search-input\"\n          value={this.state.term}\n          onChange={this.onSearchChange}\n        />\n      </div>\n    );\n  }\n}\n\nSearchPanel.propTypes = SearchPanelProps;\n\nexport default SearchPanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { UserProps } from '../../constants/proptypes';\n\nimport './User.css';\n\nconst User = ({ name, email, address }) => {\n  const { city, street } = address;\n\n  return (\n    <div>\n      {name && (\n        <p className=\"meta meta__name\">\n          <span>name: </span>\n          {name}\n        </p>\n      )}\n      <p className=\"meta meta__email\">\n        <span>email: </span>\n        {email}\n      </p>\n      {address && (\n        <div className=\"meta meta__address\">\n          {city && (\n            <p className=\"meta__address--city\">{`city: ${city}`}</p>\n          )}\n          {city && (\n            <p className=\"meta__address--street\">{`street: ${street}`}</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nUser.propTypes = UserProps;\n\nUser.defaultProps = {\n  address: PropTypes.shape({\n    city: null,\n    street: null,\n  }),\n};\n\nexport default User;\n","import React from 'react';\nimport User from '../User/User';\nimport { CommentProps } from '../../constants/proptypes';\n\nimport './Comment.css';\n\nconst Comment = ({ comment }) => {\n  const { name, email, body } = comment;\n\n  return (\n    <div className=\"content\">\n      <User name={name} email={email} />\n      <div className=\"description\">{body}</div>\n    </div>\n  );\n};\n\nComment.propTypes = CommentProps;\n\nexport default Comment;\n","import React from 'react';\nimport Comment from '../Comment/Comment';\nimport { CommentsListProps } from '../../constants/proptypes';\n\nimport './CommentList.css';\n\nconst CommentList = ({ comments }) => (\n  <ul className=\"extra content comment-list\">\n    {comments.map(comment => (\n      <li className=\"comment-list__item ui card\" key={comment.id}>\n        <Comment comment={comment} />\n      </li>\n    ))}\n  </ul>\n);\n\nCommentList.propTypes = CommentsListProps;\n\nexport default CommentList;\n","import React from 'react';\nimport User from '../User/User';\nimport { PostItemProps } from '../../constants/proptypes';\nimport CommentList from '../CommentList/CommentList';\n\nimport './Post.css';\n\nconst PostItem = ({ post }) => {\n  const {\n    title, body, user, comments,\n  } = post;\n\n  const { name, email, address } = user;\n\n  return (\n    <>\n      <div className=\"content card-item\">\n        <div className=\"header\">{title}</div>\n        <User name={name} email={email} address={address} />\n        <div className=\"description\">{body}</div>\n      </div>\n      <div className=\"extra content\">\n        <span>Comments:</span>\n        <CommentList comments={comments} />\n      </div>\n    </>\n  );\n};\n\nPostItem.propTypes = PostItemProps;\n\nexport default PostItem;\n","import React from 'react';\nimport PostItem from '../Post/Post';\nimport { PostListProps } from '../../constants/proptypes';\n\nimport './PostList.css';\n\nconst PostList = ({ posts }) => (\n  <ul className=\"post-list\">\n    {posts.map(post => (\n      <li className=\"post-list__item ui card\" key={post.id}>\n        <PostItem post={post} />\n      </li>\n    ))}\n  </ul>\n);\n\nPostList.propTypes = PostListProps;\n\nexport default PostList;\n","import React, { Component } from 'react';\nimport Button from './components/Button/Button';\nimport SearchPanel from './components/SearchPanel/SearchPanel';\nimport PostList from './components/PostList/PostList';\n\nimport './App.css';\n\nconst POSTS_URL = 'https://jsonplaceholder.typicode.com/posts';\nconst USERS_URL = 'https://jsonplaceholder.typicode.com/users';\nconst COMMENTS_URL = 'https://jsonplaceholder.typicode.com/comments';\n\nclass App extends Component {\n  state = {\n    posts: [],\n    users: [],\n    comments: [],\n    isLoading: false,\n    term: '',\n  };\n\n  handleShow = () => {\n    this.setState({\n      isLoading: true,\n    });\n\n    Promise.all([\n      fetch(POSTS_URL),\n      fetch(USERS_URL),\n      fetch(COMMENTS_URL),\n    ])\n      .then(([resPosts, resUsers, resComments]) => Promise.all(\n        [resPosts.json(), resUsers.json(), resComments.json()]\n      ))\n      .then(([dataPosts, dataUsers, dataComments]) => this.setState({\n        posts: dataPosts,\n        users: dataUsers,\n        comments: dataComments,\n        isLoading: false,\n      }));\n  };\n\n  search = (items, term) => {\n    if (term.length === 0) {\n      return items;\n    }\n\n    return items.filter(item => ((item.title\n      .toLowerCase().indexOf(term.toLowerCase()) > -1))\n      || (item.body\n        .toLowerCase().indexOf(term.toLowerCase()) > -1));\n  }\n\n  onSearchChange = (term) => {\n    this.setState({ term });\n  };\n\n  getPostsWithComments = (postsList, commentsList, usersList) => (\n    postsList\n      .map(post => ({\n        ...post,\n        comments: commentsList.filter(comment => comment.postId === post.id),\n        user: usersList.find(user => user.id === post.userId),\n      }))\n  );\n\n  render() {\n    const {\n      posts,\n      comments,\n      users,\n      term,\n      isLoading,\n    } = this.state;\n\n    const preparedPosts = this.getPostsWithComments(posts, comments, users);\n    const visiblePosts = this.search(preparedPosts, term);\n\n    return (\n      <div className=\"App\">\n        <h1>Dynamic list of posts</h1>\n        {posts.length === 0\n          ? (\n            <>\n              {isLoading\n                ? <p>Loading...</p>\n                : ''\n              }\n              <div>\n                <Button\n                  className=\"btn--start\"\n                  text=\"Load\"\n                  onClick={this.handleShow}\n                />\n              </div>\n            </>\n          )\n          : (\n            <>\n              <SearchPanel\n                onSearchChange={this.onSearchChange}\n              />\n              <PostList posts={visiblePosts} />\n            </>\n          )\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}